@prefix : <file:///beer-game-federated-kg/beer_game_retailer_kg.ttl#> .
@prefix bg: <http://beergame.org/ontology#> .
@prefix bg_retailer: <http://beergame.org/retailer#> .
@prefix bg_wholesaler: <http://beergame.org/wholesaler#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# ============================================================
# NAMING CONVENTIONS
# ============================================================
# Inventory: Inventory_Week{N}
# Orders: Order_Week{N}_To{Upstream}
# Shipments: Shipment_Week{N}_From{Source} / Shipment_Week{N}_To{Destination}
# Metrics: {Actor}_Metrics_W{N}
# ============================================================

# ============================================================
# TIME DIMENSION
# ============================================================

bg:Week_1 a bg:Week ;
    bg:weekNumber "1"^^xsd:integer ;
    rdfs:label "Week 1" .

# ============================================================
# RETAILER ACTOR (STATIC IDENTITY)
# ============================================================

bg_retailer:Retailer_Alpha a bg:Retailer ;
    rdfs:label "Retailer Alpha" ;
    bg:agentModel "GPT-5"^^xsd:string ;
    bg:agentPrompt """You are the Retailer in a beer distribution game.
Your goal: Minimize total costs (holding + backlog).
Current week data and federated queries are provided.
Make ordering decisions based on actual customer demand, not panic."""^^xsd:string ;
    bg:shippingDelay "2"^^xsd:integer ;
    bg:orderDelay "1"^^xsd:integer ;
    bg:ordersFrom bg_wholesaler:Wholesaler_Beta ;
    bg:budgetConstraint "10000.00"^^xsd:decimal ;
    bg:totalCost "0.00"^^xsd:decimal .

# ============================================================
# INVENTORY STATE (WEEK 1)
# ============================================================

bg_retailer:Inventory_Week1 a bg:Inventory ;
    bg:forWeek bg:Week_1 ;
    bg:belongsTo bg_retailer:Retailer_Alpha ;
    bg:currentInventory "12"^^xsd:integer ;    # Initial Beer Game inventory
    bg:backlog "0"^^xsd:integer ;
    bg:incomingShipment "0"^^xsd:integer ;
    bg:outgoingShipment "0"^^xsd:integer ;
    bg:holdingCost "0.50"^^xsd:decimal ;
    bg:backlogCost "1.00"^^xsd:decimal ;
    rdfs:label "Retailer Alpha Inventory Week 1" .

# ============================================================
# CUSTOMER DEMAND (WEEK 1)
# ============================================================

bg_retailer:CustomerDemand_Week1 a bg:CustomerDemand ;
    bg:forWeek bg:Week_1 ;
    bg:belongsTo bg_retailer:Retailer_Alpha ;
    bg:actualDemand "4"^^xsd:integer ;
    rdfs:comment "Initial steady demand from end customers" .

# ============================================================
# RETAILER ORDER TO WHOLESALER (WEEK 1)
# ============================================================

bg_retailer:Order_Week1_ToWholesaler a bg:Order ;
    bg:forWeek bg:Week_1 ;
    bg:belongsTo bg_retailer:Retailer_Alpha ;
    bg:placedBy bg_retailer:Retailer_Alpha ;
    bg:receivedBy bg_wholesaler:Wholesaler_Beta ;
    bg:orderQuantity "4"^^xsd:integer ;
    rdfs:comment "Initial order matches customer demand" .

# ============================================================
# INCOMING SHIPMENT FROM WHOLESALER (IN TRANSIT)
# ============================================================

bg_retailer:Shipment_Week1_FromWholesaler a bg:Shipment ;
    bg:forWeek bg:Week_1 ;
    bg:belongsTo bg_retailer:Retailer_Alpha ;
    bg:shippedFrom bg_wholesaler:Wholesaler_Beta ;
    bg:shippedTo bg_retailer:Retailer_Alpha ;
    bg:shippedQuantity "4"^^xsd:integer ;
    bg:arrivalWeek "3"^^xsd:integer ;
    rdfs:comment "Shipment in transit from wholesaler (arrives Week 3, 2-week delay)" .

# ============================================================
# ACTOR METRICS (WEEK 1 SNAPSHOT)
# ============================================================

bg_retailer:Retailer_Alpha_Metrics_W1 a bg:ActorMetrics ;
    bg:forWeek bg:Week_1 ;
    bg:belongsTo bg_retailer:Retailer_Alpha ;
    bg:demandRate "4.0"^^xsd:decimal ;
    bg:inventoryCoverage "3.0"^^xsd:decimal ;
    bg:suggestedOrderQuantity "0"^^xsd:integer ;
    bg:hasBullwhipRisk "false"^^xsd:boolean ;
    bg:hasStockoutRisk "false"^^xsd:boolean ;
    rdfs:label "Retailer Alpha Metrics Week 1" .

bg_retailer:Retailer_Alpha bg:hasMetrics bg_retailer:Retailer_Alpha_Metrics_W1 .

# ============================================================
# INTERNAL DATA (WEEK 1)
# ============================================================

bg_retailer:InternalData_Week1 a bg:InternalData ;
    bg:forWeek bg:Week_1 ;
    bg:belongsTo bg_retailer:Retailer_Alpha ;
    bg:totalRevenue "0.00"^^xsd:decimal ;
    bg:totalOrders "1"^^xsd:integer ;
    rdfs:comment "Internal tracking data for Week 1" .
