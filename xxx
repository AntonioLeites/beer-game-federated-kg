## üèóÔ∏è Our Approach: Federated Temporal Knowledge Graphs

We replace the centralized orchestrator with **four federated Knowledge Graphs** (one per supply chain actor)



This platform introduces several innovations beyond the HBR approach, focused on
explicit state, causality, and decentralization.

### Platform Capabilities

‚úÖ **1. Structured Temporal State (RDF/OWL)**
- Each week is a **first-class RDF entity**
- Complete system snapshot per week:
  - Inventory
  - Orders
  - Shipments
  - Metrics  
- No implicit memory - all state is queryable and auditable
  
**Key principle (Markovian):**

>Week N+1 depends only on Week N state + explicit business rules.

This enables:

- Causal analysis
- Time-series queries
- Counterfactual reasoning
  
---

‚úÖ **2. Federated SPARQL queries (Distributed Access)**
- Each actor maintains its own repository 
- A stateless federation layer (GraphDB FedX) provides a unified view
- **Local writes, federated reads**
- Zero data duplication
- No single point of failure

**Federation replaces:**
- Manual data propagation
- Message passing
- Orchestrator-controlled visibility

---
‚úÖ **3. Explicit Causal Rules (Auditable Logic)**
All business logic is encoded as **SPARQL UPDATE queries**, not embedded in code or prompts.

Examples:
- Demand rate smoothing
- Inventory coverage calculation
- Order-up-to policies
- Bullwhip detection
- Cost calculation

Why SPARQL rules?

- ‚úÖ Auditable ‚Äî every decision traceable
- ‚úÖ Explainable ‚Äî ‚Äúwhy did this happen?‚Äù
- ‚úÖ Modifiable ‚Äî tune thresholds without recompiling
- ‚úÖ Federated ‚Äî rules query across repositories transparently


## üöÄ Quick Start (V3 Algorithmic Baseline)

### Prerequisites

1. **Ontotext GraphDB Free**
   - Download: https://graphdb.ontotext.com/
   
2. **Python 3.13+**
   ```bash
   python -m venv beer-game
   source beer-game/bin/activate
   pip install requests rdflib matplotlib seaborn pandas
   ```

### Setup

```bash
# 1. Start GraphDB
cd ~/graphdb
./bin/graphdb -d

# 2. Create repositories (via UI at http://localhost:7200)
#    - BG_Retailer, BG_Wholesaler, BG_Distributor, BG_Factory (GraphDB Free)
#    - BG_Supply_Chain (FedX Federation of above 4)

# 3. Load data
for repo in BG_Retailer BG_Wholesaler BG_Distributor BG_Factory; do
    curl -X POST http://localhost:7200/repositories/$repo/statements \
      -H "Content-Type: application/x-turtle" \
      --data-binary @beer_game_ontology.ttl
    
    curl -X POST http://localhost:7200/repositories/$repo/statements \
      -H "Content-Type: application/x-turtle" \
      --data-binary @beer_game_${repo#BG_}_kg_v3.ttl
done

# 4. Run simulation
cd SWRL_Rules
python advanced_simulation_v3.py
# Choose: 2 (spike), 6 (weeks)

# 5. Generate visualizations
python compare_results_graph_V3.py beer_game_report_*.json
```

**Output:** Dashboard + 4 actor graphs showing 100% Retailer accuracy
