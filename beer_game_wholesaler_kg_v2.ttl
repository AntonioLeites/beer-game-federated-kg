# ============================================================
# BEER GAME - WHOLESALER KNOWLEDGE GRAPH (TEMPORAL VERSION V2)
# Federated endpoint: http://localhost:7200/repositories/BG_Wholesaler
# ============================================================

@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix bg: <http://beergame.org/ontology#> .
@prefix bg_retailer: <http://beergame.org/retailer#> .
@prefix bg_wholesaler: <http://beergame.org/wholesaler#> .
@prefix bg_distributor: <http://beergame.org/distributor#> .

# ============================================================
# NAMING CONVENTIONS
# ============================================================
# Inventory: Inventory_Week{N}
# Orders (outgoing): Order_Week{N}_To{Upstream}
# Orders (incoming): Order_Week{N}_From{Downstream}
# Shipments: Shipment_Week{N}_To{Destination} / Shipment_Week{N}_From{Source}
# Metrics: {Actor}_Metrics_W{N}
# ============================================================

# ============================================================
# TIME DIMENSION
# ============================================================

bg:Week_1 a bg:Week ;
    bg:weekNumber "1"^^xsd:integer ;
    rdfs:label "Week 1" .

# ============================================================
# WHOLESALER ACTOR (STATIC IDENTITY)
# ============================================================

bg_wholesaler:Wholesaler_Beta a bg:Wholesaler ;
    rdfs:label "Wholesaler Beta" ;
    bg:agentModel "Llama-4-Maverick-17B"^^xsd:string ;
    bg:agentPrompt """You are the Wholesaler in a beer distribution game.
You receive orders from the Retailer but CANNOT see end-customer demand directly.
Query the Retailer's KG to access ACTUAL demand, not just their order quantity.
Avoid amplifying the bullwhip effect."""^^xsd:string ;
    bg:shippingDelay "2"^^xsd:integer ;
    bg:orderDelay "1"^^xsd:integer ;
    bg:suppliesTo bg_retailer:Retailer_Alpha ;
    bg:ordersFrom bg_distributor:Distributor_Gamma ;
    bg:budgetConstraint "15000.00"^^xsd:decimal ;
    bg:totalCost "0.00"^^xsd:decimal .

# ============================================================
# INVENTORY STATE (WEEK 1)
# ============================================================

bg_wholesaler:Inventory_Week1 a bg:Inventory ;
    bg:forWeek bg:Week_1 ;
    bg:belongsTo bg_wholesaler:Wholesaler_Beta ;
    bg:currentInventory "12"^^xsd:integer ;
    bg:backlog "0"^^xsd:integer ;
    bg:incomingShipment "0"^^xsd:integer ;
    bg:outgoingShipment "0"^^xsd:integer ;
    bg:holdingCost "0.50"^^xsd:decimal ;
    bg:backlogCost "1.00"^^xsd:decimal ;
    rdfs:label "Wholesaler Beta Inventory Week 1" .

# ============================================================
# INCOMING ORDER FROM RETAILER (WEEK 1)
# ============================================================

bg_wholesaler:Order_Week1_FromRetailer a bg:Order ;
    bg:forWeek bg:Week_1 ;
    bg:placedBy bg_retailer:Retailer_Alpha ;
    bg:receivedBy bg_wholesaler:Wholesaler_Beta ;
    bg:orderQuantity "4"^^xsd:integer ;
    rdfs:comment "Retailer ordered 4 units" .

# ============================================================
# WHOLESALER ORDER TO DISTRIBUTOR (WEEK 1)
# ============================================================

bg_wholesaler:Order_Week1_ToDistributor a bg:Order ;
    bg:forWeek bg:Week_1 ;
    bg:belongsTo bg_wholesaler:Wholesaler_Beta ;
    bg:placedBy bg_wholesaler:Wholesaler_Beta ;
    bg:receivedBy bg_distributor:Distributor_Gamma ;
    bg:orderQuantity "4"^^xsd:integer ;
    rdfs:comment "Conservative ordering strategy" .

# ============================================================
# OUTGOING SHIPMENT TO RETAILER (WEEK 1)
# ============================================================

bg_wholesaler:Shipment_Week1_ToRetailer a bg:Shipment ;
    bg:forWeek bg:Week_1 ;
    bg:belongsTo bg_wholesaler:Wholesaler_Beta ;
    bg:shippedFrom bg_wholesaler:Wholesaler_Beta ;
    bg:shippedTo bg_retailer:Retailer_Alpha ;
    bg:shippedQuantity "4"^^xsd:integer ;
    bg:arrivalWeek "3"^^xsd:integer ;
    rdfs:comment "Fulfilling retailer's order from 2 weeks ago (2-week shipping delay)" .

# ============================================================
# INCOMING SHIPMENT FROM DISTRIBUTOR (IN TRANSIT)
# ============================================================

bg_wholesaler:Shipment_Week1_FromDistributor a bg:Shipment ;
    bg:forWeek bg:Week_1 ;
    bg:belongsTo bg_wholesaler:Wholesaler_Beta ;
    bg:shippedFrom bg_distributor:Distributor_Gamma ;
    bg:shippedTo bg_wholesaler:Wholesaler_Beta ;
    bg:shippedQuantity "4"^^xsd:integer ;
    bg:arrivalWeek "3"^^xsd:integer ;
    rdfs:comment "Incoming supply from distributor (arrives Week 3)" .

# ============================================================
# ACTOR METRICS (WEEK 1 SNAPSHOT)
# ============================================================

bg_wholesaler:Wholesaler_Beta_Metrics_W1 a bg:ActorMetrics ;
    bg:forWeek bg:Week_1 ;
    bg:belongsTo bg_wholesaler:Wholesaler_Beta ;
    bg:demandRate "4.0"^^xsd:decimal ;
    bg:inventoryCoverage "3.0"^^xsd:decimal ;
    bg:suggestedOrderQuantity "0"^^xsd:integer ;
    bg:hasBullwhipRisk "false"^^xsd:boolean ;
    bg:hasStockoutRisk "false"^^xsd:boolean ;
    rdfs:label "Wholesaler Beta Metrics Week 1" .

bg_wholesaler:Wholesaler_Beta bg:hasMetrics bg_wholesaler:Wholesaler_Beta_Metrics_W1 .

# ============================================================
# WHOLESALER INTERNAL DATA (PRIVATE, NON-FEDERATED)
# ============================================================

bg_wholesaler:InternalData_Week1 a bg:InternalData ;
    bg:forWeek bg:Week_1 ;
    bg:belongsTo bg_wholesaler:Wholesaler_Beta ;
    bg:wholesaleMargin "0.15"^^xsd:decimal ;
    bg:customerSatisfactionScore "98"^^xsd:integer ;
    bg:internalNotes "Week 1: Normal operations, no stockouts, conservative ordering"^^xsd:string .
