# 1. Ver todos los contexts creados
PREFIX bg: <http://beergame.org/ontology#>

SELECT ?context ?actor ?week ?rationale ?policy ?trend ?risk
WHERE {
    ?context a bg:DecisionContext ;
             bg:belongsTo ?actor ;
             bg:forWeek ?weekIRI ;
             bg:decisionRationale ?rationale ;
             bg:activePolicy ?policy ;
             bg:perceivedTrend ?trend ;
             bg:riskAssessment ?risk .
    
    ?weekIRI bg:weekNumber ?week .
}
ORDER BY ?week ?actor

# 2. Ver decisi√≥n completa del Retailer Week 3 (spike)
PREFIX bg: <http://beergame.org/ontology#>
PREFIX bg_retailer: <http://beergame.org/retailer#>

SELECT ?order ?qty ?rationale ?policy ?trend ?risk 
       ?inventory ?backlog ?demandRate ?coverage
WHERE {
    ?order a bg:Order ;
           bg:placedBy bg_retailer:Retailer_Alpha ;
           bg:forWeek bg:Week_3 ;
           bg:orderQuantity ?qty ;
           bg:basedOnContext ?context .
    
    ?context bg:decisionRationale ?rationale ;
             bg:activePolicy ?policy ;
             bg:perceivedTrend ?trend ;
             bg:riskAssessment ?risk ;
             bg:capturesInventoryState ?invState ;
             bg:capturesMetrics ?metrics .
    
    ?invState bg:currentInventory ?inventory ;
              bg:backlog ?backlog .
    
    ?metrics bg:demandRate ?demandRate ;
             bg:inventoryCoverage ?coverage .
}